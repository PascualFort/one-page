<!DOCTYPE html>
<html lang="es">
  <head>
    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="Oportunidad de inversión en el sector audiovisual. 10% TAE a 30 meses. Hasta 926.640€ (con garantía del 49,5% del equity)."
    />
    <meta
      name="keywords"
      content="inversión audiovisual, oportunidad inversión, ITES, sector audiovisual, inversión españa, barcelona, formación profesional"
    />
    <meta name="author" content="ITES Hub Audiovisual" />

    <!-- Open Graph / Facebook / WhatsApp / Telegram -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://one-page.ites.es" />
    <meta
      property="og:title"
      content="ITES Hub Audiovisual - Oportunidad de inversión"
    />
    <meta
      property="og:description"
      content="Oportunidad de inversión en el sector audiovisual. 10% TAE a 30 meses. Hasta 926.640€ (con garantía del 49,5% del equity)."
    />
    <meta
      property="og:image"
      content="https://deck.ites.es/assets/ites-banner-seo.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="ITES Hub Audiovisual" />
    <meta property="og:locale" content="es_ES" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://one-page.ites.es" />
    <meta
      name="twitter:title"
      content="ITES Hub Audiovisual - Oportunidad de inversión"
    />
    <meta
      name="twitter:description"
      content="Oportunidad de inversión en el sector audiovisual. 10% TAE a 30 meses. Hasta 926.640€ (con garantía del 49,5% del equity)."
    />
    <meta
      name="twitter:image"
      content="https://deck.ites.es/assets/ites-banner-seo.jpg"
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ITES Hub Audiovisual - Oportunidad de Inversión</title>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* Apply the Inter font family to the body */
      body {
        font-family: "Inter", sans-serif;
      }
      /* Custom focus style for better visibility */
      .focus-ring-brand {
        --tw-ring-opacity: 1;
        --tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity));
      }
      .focus-visible:focus {
        outline: 2px solid transparent;
        outline-offset: 2px;
        box-shadow: 0 0 0 2px var(--tw-ring-color);
      }
    </style>
  </head>
  <body
    class="bg-slate-900 text-white flex items-center justify-center min-h-screen p-4"
  >
    <div
      class="w-full max-w-lg mx-auto bg-slate-800/60 backdrop-blur-sm rounded-2xl shadow-2xl overflow-hidden"
    >
      <div class="p-8 sm:p-10">
        <!-- Header Section -->
        <div class="text-center">
          <h1
            class="mt-4 text-2xl sm:text-3xl font-bold tracking-tight text-white"
          >
            Invierta en el Futuro del Sector Audiovisual
          </h1>
          <p class="mt-3 text-sm sm:text-base text-slate-300">
            Acceda al dossier y descubra la oportunidad única de invertir en
            ITES Hub Audiovisual. Un proyecto con 50 años de historia, activos
            de gran valor y un plan de crecimiento exponencial en el corazón de
            Barcelona.
          </p>
        </div>

        <!-- Form Section -->
        <form id="downloadForm" class="mt-8 space-y-6">
          <div>
            <label for="email" class="sr-only">Dirección de email</label>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              class="w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow"
              placeholder="Introduzca su email"
            />
          </div>

          <div>
            <button
              type="submit"
              class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus-ring-brand focus-visible transition-colors duration-200"
            >
              Descargar Dossier de Inversión
            </button>
          </div>
        </form>

        <!-- Message Section -->
        <div id="message" class="mt-6 text-center text-sm font-medium"></div>
      </div>
    </div>

    <script>
      // --- JavaScript for Form Handling ---

      // Web3Forms configuration
      const WEB3FORMS_ENDPOINT = "https://api.web3forms.com/submit";
      const WEB3FORMS_ACCESS_KEY = "1a84e45f-7427-47e3-9104-f7697b574a2c"; // You'll get this from web3forms.com

      // Get references to the form and message elements
      const downloadForm = document.getElementById("downloadForm");
      const emailInput = document.getElementById("email");
      const messageDiv = document.getElementById("message");

      // Add an event listener for the form submission
      downloadForm.addEventListener("submit", async function (event) {
        // Prevent the default form submission which reloads the page
        event.preventDefault();

        // Get the email value and trim any whitespace
        const email = emailInput.value.trim();

        // Simple email validation
        if (!email || !email.includes("@") || !email.includes(".")) {
          // If the email is invalid, show an error message
          messageDiv.textContent =
            "Por favor, introduzca una dirección de email válida.";
          messageDiv.className =
            "mt-6 text-center text-sm font-medium text-red-400";
          messageDiv.style.opacity = "1";
          return;
        }

        // Show loading state
        const submitButton = downloadForm.querySelector(
          'button[type="submit"]'
        );
        const originalButtonText = submitButton.textContent;
        submitButton.textContent = "Enviando...";
        submitButton.disabled = true;
        messageDiv.textContent = "";
        messageDiv.style.opacity = "0";

        try {
          // Prepare the form data for Web3Forms
          const formData = {
            access_key: WEB3FORMS_ACCESS_KEY,
            from_name: "ITES Hub Audiovisual Landing Page",
            subject: "Solicitud de Dossier de Inversión - ITES Hub Audiovisual",
            message: `Nueva solicitud de dossier de inversión desde la landing page.

Email del solicitante: ${email}
Fecha: ${new Date().toLocaleString("es-ES")}

El usuario ha solicitado el dossier de inversión de ITES Hub Audiovisual.`,
            email: email,
            replyto: email,
          };

          // Send the form data to Web3Forms
          const response = await fetch(WEB3FORMS_ENDPOINT, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData),
          });

          const result = await response.json();

          if (result.success) {
            // If the email was sent successfully, redirect to the Google Drive document
            window.location.href =
              "https://docs.google.com/presentation/d/1uxBp1XeKprxrIzcAyFDZM0Cpqj5Hrv4Q/edit?usp=sharing&ouid=105980328177479721848&rtpof=true&sd=true";

            // Clear the input field
            emailInput.value = "";
          } else {
            // If there was an error, show an error message
            messageDiv.textContent =
              "Hubo un error al enviar el dossier. Por favor, inténtelo de nuevo.";
            messageDiv.className =
              "mt-6 text-center text-sm font-medium text-red-400";
          }
        } catch (error) {
          // If there was a network error, show an error message
          console.error("Error sending form:", error);
          messageDiv.textContent =
            "Hubo un error de conexión. Por favor, inténtelo de nuevo.";
          messageDiv.className =
            "mt-6 text-center text-sm font-medium text-red-400";
        } finally {
          // Reset button state
          submitButton.textContent = originalButtonText;
          submitButton.disabled = false;
          messageDiv.style.opacity = "1";
        }
      });
    </script>
  </body>
</html>
